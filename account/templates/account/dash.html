{% extends "base.html" %}
{% block content %}
  <h1>Welcome to your dash</h1>

  <div class="jumbotron">
    <h3>Total Votes: {{ total_votes }} </h3>
    <h3>New Messages: {{ 0 }}</h3>
  </div>

  {% if generated_key %}
    <h3>Generated New Key</h3>
    <p><strong>{{ generated_key }}</strong></p>
  {% endif %}

  <div class="row">
    <div class="col-md-6">
      <!-- Display the users posts -->
      {% if post_list %}
      <div class="my-posts">
        <h2>Your posts</h2>
        {% for post in post_list %}
        <p>{{ post.post }}</p>
        <p>Posted on: {{ post.date }}</p>
        <p>Votes: {{ post.votes }}</p>
        <p><a href="{% url 'home:detail' post.id %}">(Num)Comments</a></p>
        {% endfor %}

        {% endif %}
      </div>
    </div>

    <div class="col-md-6">
      <p>Click this button to generate a new invite key. Send the Invite key to a friend and tell them about Grapevine</p>
      <p>Invite Keys can only be used once and used keys will dissapear from your dash</p>
      <a href="{% url 'account:create_new_invite_key' %}" class="btn btn-primary">Generate New Invite Key</a>
    <!-- Display the users generated keys -->
    <div class="generated-invite-keys">
      <h2>Generated Invite Keys</h2>
      {% if invite_key_list %}
      {% for invite_key in invite_key_list %}
        <p><strong>{{ invite_key.invite_key }}</strong></p>
        <p>Generated on: {{ invite.created_on }}</p>
      {% endfor %}
      {% endif %}
    </div>
  </div>

  </div>
{% endblock %}
